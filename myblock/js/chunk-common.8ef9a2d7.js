(self["webpackChunkblocklygameweb"]=self["webpackChunkblocklygameweb"]||[]).push([[64],{595:(t,e,n)=>{"use strict";var i=n(8960),s=n.n(i);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function o(t){const e=new i.FieldImage(r,15,15,void 0,a);return e.args_=t,e}function a(t){const e=t.getSourceBlock();if(e.isInFlyout)return;i.Events.setGroup(!0);const n=e.mutationToDom(),s=n&&i.Xml.domToText(n);e.minus(t.args_);const o=e.mutationToDom(),a=o&&i.Xml.domToText(o);s!=a&&i.Events.fire(new i.Events.BlockChange(e,"mutation",null,s,a)),i.Events.setGroup(!1)}const r="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTggMTFoLTEyYy0xLjEwNCAwLTIgLjg5Ni0yIDJzLjg5NiAyIDIgMmgxMmMxLjEwNCAwIDItLjg5NiAyLTJzLS44OTYtMi0yLTJ6IiBmaWxsPSJ3aGl0ZSIgLz48L3N2Zz4K";
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function u(t){const e=new i.FieldImage(d,15,15,void 0,l);return e.args_=t,e}function l(t){const e=t.getSourceBlock();if(e.isInFlyout)return;i.Events.setGroup(!0);const n=e.mutationToDom(),s=n&&i.Xml.domToText(n);e.plus(t.args_);const o=e.mutationToDom(),a=o&&i.Xml.domToText(o);s!=a&&i.Events.fire(new i.Events.BlockChange(e,"mutation",null,s,a)),i.Events.setGroup(!1)}const d="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTggMTBoLTR2LTRjMC0xLjEwNC0uODk2LTItMi0ycy0yIC44OTYtMiAybC4wNzEgNGgtNC4wNzFjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAybDQuMDcxLS4wNzEtLjA3MSA0LjA3MWMwIDEuMTA0Ljg5NiAyIDIgMnMyLS44OTYgMi0ydi00LjA3MWw0IC4wNzFjMS4xMDQgMCAyLS44OTYgMi0ycy0uODk2LTItMi0yeiIgZmlsbD0id2hpdGUiIC8+PC9zdmc+Cg==",_={elseIfCount_:0,hasElse_:!1,mutationToDom:function(){if(!this.elseIfCount_&&!this.hasElse_)return null;const t=s().utils.xml.createElement("mutation");return t.setAttribute("elseif",this.elseIfCount_),this.hasElse_&&t.setAttribute("else",1),t},domToMutation:function(t){const e=parseInt(t.getAttribute("elseif"),10)||0;this.hasElse_=!!parseInt(t.getAttribute("else"),10)||0,this.hasElse_&&!this.getInput("ELSE")&&this.appendStatementInput("ELSE").appendField(s().Msg.CONTROLS_IF_MSG_ELSE),this.updateShape_(e)},updateShape_:function(t){while(this.elseIfCount_<t)this.addElseIf_();while(this.elseIfCount_>t)this.removeElseIf_()},plus:function(){this.addElseIf_()},minus:function(t){0!=this.elseIfCount_&&this.removeElseIf_(t)},addElseIf_:function(){this.elseIfCount_++,this.appendValueInput("IF"+this.elseIfCount_).setCheck("Boolean").appendField(s().Msg.CONTROLS_IF_MSG_ELSEIF).appendField(o(this.elseIfCount_),"MINUS"+this.elseIfCount_),this.appendStatementInput("DO"+this.elseIfCount_).appendField(s().Msg.CONTROLS_IF_MSG_THEN),this.getInput("ELSE")&&this.moveInputBefore("ELSE",null)},removeElseIf_:function(t){if(void 0!==t&&t!=this.elseIfCount_){const e=2*t,n=this.inputList;let i=n[e].connection;i.isConnected()&&i.disconnect(),i=n[e+1].connection,i.isConnected()&&i.disconnect(),this.bumpNeighbours();for(let t,s=e+2;t=this.inputList[s];s++){if("ELSE"==t.name)break;const e=t.connection.targetConnection;e&&this.inputList[s-2].connection.connect(e)}}this.removeInput("IF"+this.elseIfCount_),this.removeInput("DO"+this.elseIfCount_),this.elseIfCount_--}},c=function(){this.getInput("IF0").insertFieldAt(0,u(),"PLUS")};s().Extensions.unregister("controls_if_mutator"),s().Extensions.registerMutator("controls_if_mutator",_,c),
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
delete s().Blocks.lists_create_with,s().defineBlocksWithJsonArray([{type:"lists_create_with",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE} %1",args0:[{type:"input_dummy",name:"EMPTY"}],output:"Array",style:"list_blocks",helpUrl:"%{BKY_LISTS_CREATE_WITH_HELPURL}",tooltip:"%{BKY_LISTS_CREATE_WITH_TOOLTIP}",mutator:"new_list_create_with_mutator"}]);const p={itemCount_:0,mutationToDom:function(){const t=s().utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(t){const e=parseInt(t.getAttribute("items"),10);this.updateShape_(e)},updateShape_:function(t){while(this.itemCount_<t)this.addPart_();while(this.itemCount_>t)this.removePart_();this.updateMinus_()},plus:function(){this.addPart_(),this.updateMinus_()},minus:function(){0!=this.itemCount_&&(this.removePart_(),this.updateMinus_())},addPart_:function(){0==this.itemCount_?(this.removeInput("EMPTY"),this.topInput_=this.appendValueInput("ADD"+this.itemCount_).appendField(u(),"PLUS").appendField(s().Msg.LISTS_CREATE_WITH_INPUT_WITH)):this.appendValueInput("ADD"+this.itemCount_),this.itemCount_++},removePart_:function(){this.itemCount_--,this.removeInput("ADD"+this.itemCount_),0==this.itemCount_&&(this.topInput_=this.appendDummyInput("EMPTY").appendField(u(),"PLUS").appendField(s().Msg.LISTS_CREATE_EMPTY_TITLE))},updateMinus_:function(){const t=this.getField("MINUS");!t&&this.itemCount_>0?this.topInput_.insertFieldAt(1,o(),"MINUS"):t&&this.itemCount_<1&&this.topInput_.removeField("MINUS")}},m=function(){this.getInput("EMPTY").insertFieldAt(0,u(),"PLUS"),this.updateShape_(3)};s().Extensions.registerMutator("new_list_create_with_mutator",p,m);n(5363),n(71),n(6801);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
s().Msg.PROCEDURE_VARIABLE="variable:",delete s().Blocks.procedures_defnoreturn,delete s().Blocks.procedures_defreturn,s().defineBlocksWithJsonArray([{type:"procedures_defnoreturn",message0:"%{BKY_PROCEDURES_DEFNORETURN_TITLE} %1 %2",message1:"%{BKY_PROCEDURES_DEFNORETURN_DO} %1",args0:[{type:"field_input",name:"NAME",text:""},{type:"input_dummy",name:"TOP"}],args1:[{type:"input_statement",name:"STACK"}],style:"procedure_blocks",helpUrl:"%{BKY_PROCEDURES_DEFNORETURN_HELPURL}",tooltip:"%{BKY_PROCEDURES_DEFNORETURN_TOOLTIP}",extensions:["get_procedure_def_no_return","procedure_context_menu","procedure_rename","procedure_vars"],mutator:"procedure_def_mutator"},{type:"procedures_defreturn",message0:"%{BKY_PROCEDURES_DEFRETURN_TITLE} %1 %2",message1:"%{BKY_PROCEDURES_DEFRETURN_DO} %1",message2:"%{BKY_PROCEDURES_DEFRETURN_RETURN} %1",args0:[{type:"field_input",name:"NAME",text:""},{type:"input_dummy",name:"TOP"}],args1:[{type:"input_statement",name:"STACK"}],args2:[{type:"input_value",align:"right",name:"RETURN"}],style:"procedure_blocks",helpUrl:"%{BKY_PROCEDURES_DEFRETURN_HELPURL}",tooltip:"%{BKY_PROCEDURES_DEFRETURN_TOOLTIP}",extensions:["get_procedure_def_return","procedure_context_menu","procedure_rename","procedure_vars"],mutator:"procedure_def_mutator"}]);const h={getProcedureDef:function(){const t=this.argData_.map((t=>t.model.name));return[this.getFieldValue("NAME"),t,!1]},callType_:"procedures_callnoreturn"};s().Extensions.registerMixin("get_procedure_def_no_return",h);const g={getProcedureDef:function(){const t=this.argData_.map((t=>t.model.name));return[this.getFieldValue("NAME"),t,!0]},callType_:"procedures_callreturn"};s().Extensions.registerMixin("get_procedure_def_return",g);const I={customContextMenu:function(t){if(this.isInFlyout)return;const e=this.getFieldValue("NAME"),n=s().Msg.PROCEDURES_CREATE_DO.replace("%1",e),i=s().utils.xml.createElement("block");i.setAttribute("type",this.callType_),i.appendChild(this.mutationToDom(!0));const o=s().ContextMenu.callbackFactory(this,i);if(t.push({enabled:!0,text:n,callback:o}),this.isCollapsed())return;const a=this.getVarModels();for(const r of a){const e=s().Msg.VARIABLES_SET_CREATE_GET.replace("%1",r.name),n=s().utils.xml.createElement("block");n.setAttribute("type","variables_get"),n.appendChild(s().Variables.generateVariableFieldDom(r));const i=s().ContextMenu.callbackFactory(this,n);t.push({enabled:!0,text:e,callback:i})}}};s().Extensions.registerMixin("procedure_context_menu",I);const E={mutationToDom:function(t=!1){const e=s().utils.xml.createElement("mutation");return t&&e.setAttribute("name",this.getFieldValue("NAME")),this.argData_.forEach((n=>{const i=s().utils.xml.createElement("arg"),o=n.model;i.setAttribute("name",o.name),i.setAttribute("varid",o.getId()),i.setAttribute("argid",n.argId),t&&i.setAttribute("paramid",n.argId),e.appendChild(i)})),this.hasStatements_||e.setAttribute("statements","false"),e},domToMutation:function(t){this.hasStatements_="false"!==t.getAttribute("statements"),this.hasStatements_||this.removeInput("STACK");const e=[],n=[],i=[];for(const s of t.childNodes)"arg"==s.nodeName.toLowerCase()&&(e.push(s.getAttribute("name")),n.push(s.getAttribute("varid")||s.getAttribute("varId")),i.push(s.getAttribute("argid")));this.updateShape_(e,n,i)},updateShape_:function(t,e,n){if(t.length!=e.length)throw Error("names and varIds must have the same length.");for(let s=this.argData_.length-1;s>=0;s--)this.removeArg_(this.argData_[s].argId);this.argData_=[];const i=e.length;for(let s=0;s<i;s++)this.addArg_(t[s],e[s],n[s]);s().Procedures.mutateCallers(this)},plus:function(){this.addArg_(),s().Procedures.mutateCallers(this)},minus:function(t){this.argData_.length&&(this.removeArg_(t),s().Procedures.mutateCallers(this))},addArg_:function(t=null,e=null,n=null){if(!this.argData_.length){const t=new(s().FieldLabel)(s().Msg.PROCEDURES_BEFORE_PARAMS);this.getInput("TOP").appendField(t,"WITH")}const i=this.argData_.map((t=>t.model.name));t=t||s().Variables.generateUniqueNameFromOptions(s().Procedures.DEFAULT_ARG,i);const o=s().Variables.getOrCreateVariablePackage(this.workspace,e,t,"");n=n||s().utils.idGenerator.genUid(),this.addVarInput_(t,n),this.getInput("STACK")?this.moveInputBefore(n,"STACK"):this.moveInputBefore(n,"RETURN"),this.argData_.push({model:o,argId:n})},removeArg_:function(t){this.removeInput(t,!0)&&(1==this.argData_.length&&this.getInput("TOP").removeField("WITH"),this.argData_=this.argData_.filter((e=>e.argId!=t)))},addVarInput_:function(t,e){const n=new(s().FieldTextInput)(t,this.validator_);n.onFinishEditing_=this.finishEditing_.bind(n),n.varIdsToDelete_=[],n.preEditVarModel_=null,this.appendDummyInput(e).setAlign(s().ALIGN_RIGHT).appendField(o(e)).appendField(s().Msg.PROCEDURE_VARIABLE).appendField(n,e)},validator_:function(t){const e=this.getSourceBlock(),n=e.workspace,i=e.argData_,o=e.argData_.find((t=>t.argId==this.name)),a=o.model.getId();t=t.replace(/[\s\xa0]+/g," ").trim();const r=t.toLowerCase(),u=t=>t.argId==this.name||r!=t.model.name.toLowerCase(),l=()=>n.getVariableUsesById(a).every((t=>t.id==e.id||t.getProcedureCall&&t.getProcedureCall()==e.getProcedureDef()[0]));if(!t||!i.every(u))return this.preEditVarModel_&&(o.model=this.preEditVarModel_,this.preEditVarModel_=null),s().Procedures.mutateCallers(e),null;this.varIdsToDelete_.length||(this.preEditVarModel_=o.model,l()&&this.varIdsToDelete_.push(a));let d=n.getVariable(t,"");return d?d.name!=t&&n.renameVariableById(d.getId(),t):(d=n.createVariable(t,""),this.varIdsToDelete_.push(d.getId())),d.getId()!=a&&(o.model=d),s().Procedures.mutateCallers(e),t},finishEditing_:function(t){const e=this.getSourceBlock(),n=e.argData_.find((t=>t.argId==this.name)),i=n.model.getId();this.varIdsToDelete_.forEach((t=>{t!=i&&e.workspace.deleteVariableById(t)})),this.varIdsToDelete_.length=0,this.preEditVarModel_=null}},f=function(){this.argData_=[],this.hasStatements_=!0,this.getInput("TOP").insertFieldAt(0,u(),"PLUS")};s().Extensions.registerMutator("procedure_def_mutator",E,f);const T=function(){this.getField("NAME").setValidator(s().Procedures.rename)};s().Extensions.register("procedure_rename",T);const C=function(){const t={getVars:function(){return this.argData_.map((t=>t.model.name))},getVarModels:function(){return this.argData_.map((t=>t.model))},renameVarById:function(t,e){const n=this.argData_.find((e=>e.model.getId()==t));if(!n)return;const i=this.workspace.getVariableById(e),o=i.name;this.addVarInput_(o,e),this.moveInputBefore(e,t),this.removeInput(t),n.model=i,s().Procedures.mutateCallers(this)},updateVarName:function(t){const e=t.getId(),n=this.argData_.find((t=>t.model.getId()==e));n&&(this.setFieldValue(t.name,n.argId),n.model=t)}};this.mixin(t,!0)};s().Extensions.register("procedure_vars",C);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const D={itemCount_:0,mutationToDom:function(){const t=s().utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(t){const e=parseInt(t.getAttribute("items"),10);this.updateShape_(e)},updateShape_:function(t){while(this.itemCount_<t)this.addPart_();while(this.itemCount_>t)this.removePart_();this.updateMinus_()},plus:function(){this.addPart_(),this.updateMinus_()},minus:function(){0!=this.itemCount_&&(this.removePart_(),this.updateMinus_())},addPart_:function(){0==this.itemCount_?(this.getInput("EMPTY")&&this.removeInput("EMPTY"),this.topInput_=this.appendValueInput("ADD"+this.itemCount_).appendField(u(),"PLUS").appendField(s().Msg.TEXT_JOIN_TITLE_CREATEWITH)):this.appendValueInput("ADD"+this.itemCount_),this.itemCount_++},removePart_:function(){this.itemCount_--,this.removeInput("ADD"+this.itemCount_),0==this.itemCount_&&(this.topInput_=this.appendDummyInput("EMPTY").appendField(u(),"PLUS").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1)))},updateMinus_:function(){const t=this.getField("MINUS");!t&&this.itemCount_>0?this.topInput_.insertFieldAt(1,o(),"MINUS"):t&&this.itemCount_<1&&this.topInput_.removeField("MINUS")}},M=function(){s().Extensions.apply("text_quotes",this,!1),this.updateShape_(2)};s().Extensions.unregister("text_join_mutator"),s().Extensions.registerMutator("text_join_mutator",D,M)}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */,9269:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(3673);const s={class:"blocklyDiv",ref:"blocklyDiv"},o={ref:"blocklyToolbox",style:{display:"none"}};function a(t,e,n,a,r,u){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",s,null,512),(0,i._)("template",o,[(0,i.WI)(t.$slots,"default",{},void 0,!0)],512)])}var r=n(755),u=n.n(r);n(595);
/**
 * @license
 *
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l={name:"BlocklyComponent",props:["options"],data(){return{mainWorkspace:null}},mounted(){var t=this.$props.options||{};t.toolbox||(t.toolbox=this.$refs["blocklyToolbox"]),this.mainWorkspace=u().inject(this.$refs["blocklyDiv"],t),u().defineBlocksWithJsonArray([{type:"player_start",message0:"Start",colour:355,message0:"Start",message1:"do %1",args1:[{type:"input_statement",name:"DO"}]}]),u().JavaScript.player_start=function(t){return u().JavaScript.statementToCode(t,"DO")};var e='<xml>  <block type="player_start" deletable="false" x="70" y="70">  </block></xml>',n=u().Xml.textToDom(e);u().Xml.domToWorkspace(n,u().getMainWorkspace())}};var d=n(4260);const _=(0,d.Z)(l,[["render",a],["__scopeId","data-v-0b89f486"]]),c=_},7048:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(3673);function s(t,e,n,s,o,a){return(0,i.wg)(),(0,i.iD)("div")}n(2100);const o=n(1849),a=(0,i.aZ)({name:"cookieMyblock",data(){return{aesPassword:"dsakl;fv5"}},methods:{gadgeCopyAndShare(t){let e=o.AES.encrypt(JSON.stringify(t),this.aesPassword).toString(),n="#/badge?data="+encodeURIComponent(e);navigator.clipboard.writeText(window.location.origin+window.location.pathname+n),setTimeout((function(){window.open(n)}),50)},saveUserToCookie(){let t=JSON.stringify(this.$myblock.user);this.setCookie("snowmem",o.AES.encrypt(t,this.aesPassword).toString(),360)},loadUserFromCookie(){try{let t=this.getCookie("snowmem");if(""!=t){let e=o.enc.Utf8.stringify(o.AES.decrypt(t,this.aesPassword)),n=JSON.parse(e);for(let t in n)this.$myblock.user[t]=n[t]}}catch(t){this.saveUserToCookie()}},setCookie(t,e,n){const i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);let s="expires="+i.toUTCString();document.cookie=t+"="+e+";"+s+";path=/"},getCookie(t){let e=t+"=",n=decodeURIComponent(document.cookie),i=n.split(";");for(let s=0;s<i.length;s++){let t=i[s];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""}}});var r=n(4260);const u=(0,r.Z)(a,[["render",s]]),l=u},2480:()=>{}}]);